!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){!function(){"use strict";var b=a("./modules/apiForm.js"),c=a("./modules/map.js"),d=a("./modules/contoursEnterpriseForm.js"),e=a("./modules/entityForm.js"),f=a("./modules/elevationForm.js"),g=a("./modules/haatForm.js"),h=a("./modules/profileForm.js");b.bindEvents(),c.init(),f.getParams(),d.getParams(),e.getParams(),g.getParams(),h.getParams()}()},{"./modules/apiForm.js":2,"./modules/contoursEnterpriseForm.js":6,"./modules/elevationForm.js":7,"./modules/entityForm.js":9,"./modules/haatForm.js":10,"./modules/map.js":12,"./modules/profileForm.js":13}],2:[function(a,b,c){!function(){"use strict";var c=a("./map.js"),d=a("./apiResponse.js"),e={bindEvents:function(){$("#apiType").on("change",e.switchForm),$(window).keydown(function(a){13===a.keyCode&&(a.preventDefault(),$("#btn-getAPI").click())}),$("#modal-loading").modal({backdrop:"static",keyboard:!1,show:!1})},switchForm:function(){var a=this.value;$(".alert").hide("fast"),$(".fields").hide("fast"),$(".fields-"+a).slideDown(),$("#btn-getAPI").attr("data-api",a),$(".js-am-only").slideUp(),$("#form-params")[0].reset(),$('label[for="idValue"]').text("Facility ID"),$('label[for="channel"]').attr("required",!0),$("#apiType").val(a),d.clear(),c.clearLayers(),c.resetView()},showError:function(a){var b="";try{b=a.responseJSON.features[0].properties.statusMessage}catch(c){b=a.responseJSON.statusMessage}$("#modal-loading").modal("hide"),$(".alert").hide("fast"),$("#txt-error").empty().text(b),$(".alert").slideDown(),c.clearLayers()}};b.exports=e}()},{"./apiResponse.js":4,"./map.js":12}],3:[function(a,b,c){!function(){"use strict";var c=a("./apiForm.js"),d=a("./map.js"),e=a("./apiResponse.js"),f={getData:function(a,b){var d=function(a){"success"===a.features[0].properties.status?($(".alert").hide("fast"),f.createMarker(a)):c.showError(a),e.display(a)};e.url=a,$.ajax({url:a,async:!0,type:"GET",dataType:"json",success:b||d,error:function(a){c.showError(a),e.display(a)}})},createMarker:function(a){var b=f.getTooltipMeta(a),c=a.features[0].properties.lat,e=a.features[0].properties.lon;d.clearLayers(),d.stationMarker=L.marker([c,e],d.markerIcon),d.stationMarker.addTo(d.map).bindPopup(b).openPopup().on("click",function(){$(".fields:visible").find('input[name="lat"]').val(c).end().find('input[name="lon"]').val(e)}),d.map.setView([c,e],7)}};b.exports=f}()},{"./apiForm.js":2,"./apiResponse.js":4,"./map.js":12}],4:[function(a,b,c){!function(){"use strict";var a={display:function(b){$("#modal-loading").modal("hide"),$(".apiResponse__out code").text("").text(JSON.stringify(b,null,2)),$("pre code").each(function(a,b){hljs.highlightBlock(b)}),$(".apiResponse__dwnld").attr("href",a.url).removeClass("hide")},clear:function(){$(".apiResponse__out code").text(""),$(".apiResponse__dwnld").addClass("hide")}};b.exports=a}()},{}],5:[function(a,b,c){!function(){"use strict";var c=a("./apiForm.js"),d=a("./map.js"),e=a("./apiResponse.js"),f={getContour:function(){var a="";"entity"===$("#apiType").val()?(a="./entity.json?",a+=$(".fields-entity").find("input, select").not(".js-inputType").filter(function(){if(""!==this.value)return this}).serialize()):(a="./coverage.json?",a+=$(".fields-contoursEnterprise").find("input, select").serialize()),e.url=a,$.ajax({url:a,async:!0,type:"GET",dataType:"json",success:function(a){a.features.length>0?($(".alert").hide("fast"),f.createContour(a)):c.showError(),e.display(a)},error:function(a){c.showError(a),e.display(a)}})},createContour:function(a){var b={color:"#13428B",fillColor:"#13428B",opacity:1,fillOpacity:.3,weight:4};d.clearLayers(),d.contourJSON=L.geoJson(a,{style:b}).addTo(d.map),d.map.fitBounds(d.contourJSON.getBounds()),"entity"===$("#apiType").val()?f.createEntityMarker(a):f.createMarker(a)},createMarker:function(a){var b=a.features[0].properties,c="";d.featureLayer=L.mapbox.featureLayer().addTo(d.map),d.featureLayer.clearLayers(),c="",c+='<dl class="dl-contour dl-horizontal">',c+="<dt>Latitude:</dt>",c+="<dd>"+b.antenna_lat+"</dd>",c+="<dt>Longitude:</dt>",c+="<dd>"+b.antenna_lon+"</dd>",c+="<dt>Num. of Radials:</dt>",c+="<dd>"+b.nradial+"</dd>",c+="<dt>RCAMSL:</dt>",c+="<dd>"+b.rcamsl+" meters</dd>",c+="<dt>Field Strength:</dt>",c+="<dd>"+b.field+"</dd>",c+="<dt>FM Channel:</dt>",c+="<dd>"+b.channel+"</dd>",c+="<dt>ERP:</dt>",c+="<dd>"+b.erp+"</dd>",c+="<dt>Curve:</dt>",c+="<dd>"+b.curve+"</dd>",c+="<dt>Source:</dt>",c+="<dd>"+b.elevation_data_source+"</dd>",c+="</dl>",d.stationMarker=L.marker([b.antenna_lat,b.antenna_lon],d.markerIcon).addTo(d.featureLayer).bindPopup(c)},createEntityMarker:function(a){var b="";d.featureLayer=L.mapbox.featureLayer().addTo(d.map),d.featureLayer.clearLayers();for(var c=0;c<a.features.length;c++)b="",b+='<dl class="dl-contour dl-horizontal">',b+="<dt>Call Sign:</dt>",b+="<dd>"+a.features[c].properties.callsign+"</dd>",void 0!==a.features[c].properties.service&&(b+="<dt>Service:</dt>",b+="<dd>"+a.features[c].properties.service+"</dd>"),b+="<dt>Facility ID:</dt>",b+="<dd>"+a.features[c].properties.facility_id+"</dd>",b+="<dt>Application ID:</dt>",b+="<dd>"+a.features[c].properties.application_id+"</dd>",b+="<dt>Channel:</dt>",b+="<dd>"+a.features[c].properties.channel+"</dd>",b+="<dt>No. of radials:</dt>",b+="<dd>"+a.features[c].properties.nradial+"</dd>",b+="<dt>Latitude:</dt>",b+="<dd>"+a.features[c].properties.antenna_lat+"</dd>",b+="<dt>Longitude:</dt>",b+="<dd>"+a.features[c].properties.antenna_lon+"</dd>",b+="</dl>",d.stationMarker=L.marker([a.features[c].properties.antenna_lat,a.features[c].properties.antenna_lon],d.markerIcon).addTo(d.featureLayer).bindPopup(b)}};b.exports=f}()},{"./apiForm.js":2,"./apiResponse.js":4,"./map.js":12}],6:[function(a,b,c){!function(){"use strict";var c=a("./contourMap.js"),d={bindEvents:function(){$("#frm-contoursEnterprise").find("select").eq(0).addClass("js-entrp"),$('label[for="channel"]').addClass("required"),$("#frm-contoursEnterprise").on("change",".js-entrp",function(){var a=this.value;$("#frm-contoursEnterprise").find("input").val(""),$("#curve").val(0),$("#src").val("ned"),$("#unit").val("m"),"fm"===a?($('label[for="channel"]').removeClass("required"),$("#channel").attr("required",!1)):($('label[for="channel"]').addClass("required"),$("#channel").attr("required",!0))}),$("#src").prepend('<option value="" selected></option>'),$('#pop [value="false"]').attr("selected",!0),$('#area [value="false"]').attr("selected",!0),$("#form-params").on("click.contoursEnterpriseAPI",'[data-api="contoursEnterprise"]',c.getContour)},getParams:function(){$.ajax({url:"json/api-coverage.json",async:!0,type:"GET",dataType:"json",success:function(a){var b=a.paths["/coverage.{format}"].get.parameters;d.createTemplate(b)}})},createTemplate:function(a){var b,c,e={},f=$("#apiForm-template").html();b=Handlebars.compile(f),e.params=a,c=b(e),$("#frm-contoursEnterprise").append(c),d.bindEvents()}};b.exports=d}()},{"./contourMap.js":5}],7:[function(a,b,c){!function(){"use strict";var c=a("./elevationMap.js"),d={bindEvents:function(){$("#form-params").on("click.elevationAPI",'[data-api="elevation"]',c.getData),$("#frm-elevation").find("label").each(function(a,b){var c=$(b).attr("for");$(b).attr("for","elev-"+c)}).end().find("[id]").each(function(a,b){var c=$(b).attr("id");$(b).attr("id","elev-"+c)})},getParams:function(){$.ajax({url:"json/api-elevation.json",async:!0,type:"GET",dataType:"json",success:function(a){var b=a.paths["/elevation.{format}"].get.parameters;d.createTemplate(b)}})},createTemplate:function(a){var b,c,e={},f=$("#apiForm-template").html();b=Handlebars.compile(f),e.params=a,c=b(e),$("#frm-elevation").append(c),d.bindEvents()}};b.exports=d}()},{"./elevationMap.js":8}],8:[function(a,b,c){!function(){"use strict";var c=a("./apiMap.js"),d={getData:function(){var a="./elevation.json?";a+=$(".fields-elevation").find("input, select").serialize(),c.getTooltipMeta=d.getTooltipMeta,c.getData(a)},getTooltipMeta:function(a){var b='<dl class="dl-elevation dl-horizontal">';return b+="<dt>Elevation:</dt>",b+="<dd>"+a.features[0].properties.elevation+" "+a.features[0].properties.unit+"</dd>",b+="<dt>Latitude:</dt>",b+="<dd>"+a.features[0].geometry.coordinates[1]+"</dd>",b+="<dt>Longitude:</dt>",b+="<dd>"+a.features[0].geometry.coordinates[0]+"</dd>",b+="<dt>Data Source:</dt>",b+="<dd>"+a.features[0].properties.dataSource+"</dd>",b+="</dl>"}};b.exports=d}()},{"./apiMap.js":3}],9:[function(a,b,c){!function(){"use strict";var c=a("./contourMap.js"),d={bindEvents:function(){var a=$("#frm-entity"),b=a.find("input").closest("div").not(":eq(3), :eq(4)"),d='<div class="form-group">';d+='<label for="ent-inputType" class="required">Input Type</label>',d+='<select id="ent-inputType" class="js-inputType form-control" name="inputType">',d+='<option value="ent-callsign" selected>Call Sign</option>',d+='<option value="ent-facilityId">Facility ID</option>',d+='<option value="ent-applicationId">Application ID</option>',d+="</select>",d+="</div>",a.find("div").eq(0).after(d),b.hide(),a.on("change",".js-inputType",function(){b.hide(),$("#"+this.value).closest("div").slideDown()}),a.find("label").each(function(a,b){var c=$(b).attr("for");$(b).attr("for","ent-"+c)}).end().find("[id]").each(function(a,b){var c=$(b).attr("id");$(b).attr("id","ent-"+c)}).end().find("select").eq(0).addClass("js-entity"),a.on("change",".js-entity, .js-inputType",function(){a.find("input").val("").end().find("select:gt(1)").each(function(a,b){b.value=3===a?"ned":"false"})}),a.on("change",".js-entity",function(){$(".js-inputType").val("ent-callsign"),b.hide(),$("#ent-callsign").closest("div").slideDown()}),$("#ent-callsign").closest("div").slideDown(),$('label[for="ent-callsign"], label[for="ent-facilityId"], label[for="ent-applicationId"]').addClass("required"),$('#ent-pop [value="false"]').attr("selected",!0),$('#ent-area [value="false"]').attr("selected",!0),$("#ent-curve, #ent-src").prepend('<option value="" selected></option>'),$("#form-params").on("click.entityAPI",'[data-api="entity"]',c.getContour)},getParams:function(){$.ajax({url:"json/api-entity.json",async:!0,type:"GET",dataType:"json",success:function(a){var b=a.paths["/entity.{format}"].get.parameters;d.createTemplate(b)}})},createTemplate:function(a){var b,c,e={},f=$("#apiForm-template").html();b=Handlebars.compile(f),e.params=a,c=b(e),$("#frm-entity").append(c),d.bindEvents()}};b.exports=d}()},{"./contourMap.js":5}],10:[function(a,b,c){!function(){"use strict";var c=a("./haatMap.js"),d={bindEvents:function(){$("#form-params").on("click.haatAPI",'[data-api="haat"]',c.getData),$("#frm-haat").find("label").each(function(a,b){var c=$(b).attr("for");$(b).attr("for","haat-"+c)}).end().find("[id]").each(function(a,b){var c=$(b).attr("id");$(b).attr("id","haat-"+c)}),$("#haat-src").prepend('<option value="" selected></option>')},getParams:function(){$.ajax({url:"json/api-haat.json",async:!0,type:"GET",dataType:"json",success:function(a){var b=a.paths["/haat.{format}"].get.parameters;d.createTemplate(b)}})},createTemplate:function(a){var b,c,e={},f=$("#apiForm-template").html();b=Handlebars.compile(f),e.params=a,c=b(e),$("#frm-haat").append(c),d.bindEvents()}};b.exports=d}()},{"./haatMap.js":11}],11:[function(a,b,c){!function(){"use strict";var c=a("./apiMap.js"),d={getData:function(){var a="./haat.json?";a+=$(".fields-haat").find("input, select").serialize(),c.getTooltipMeta=d.getTooltipMeta,c.getData(a)},getTooltipMeta:function(a){var b='<dl class="dl-haat dl-horizontal">',c=a.features[0].properties;return b+="<dt>Average HAAT:</dt>",b+="<dd>"+c.haat_average+" "+c.unit+"</dd>",b+="<dt>Latitude:</dt>",b+="<dd>"+c.lat+"</dd>",b+="<dt>Longitude:</dt>",b+="<dd>"+c.lon+"</dd>",b+="<dt>No. of radials:</dt>",b+="<dd>"+c.nradial+"</dd>",b+="<dt>RCAMSL:</dt>",b+="<dd>"+c.rcamsl+"</dd>",b+="<dt>Data Source:</dt>",b+="<dd>"+c.elevation_data_source+"</dd>",b+="</dl>"}};b.exports=d}()},{"./apiMap.js":3}],12:[function(a,b,c){!function(){"use strict";var a={init:function(){this.map=void 0,this.contourJSON=void 0,this.stationMarker=void 0,this.imageURL=1===window.location.pathname.search("api/contours")?"images":"/images",a.create()},create:function(){L.mapbox.accessToken="pk.eyJ1IjoiZmNjIiwiYSI6InBiaGMyLU0ifQ.LOmVYpUCFv2yWpbvxDdQNg",a.map=L.mapbox.map("map").setView([41.05,-95],4);var b=L.mapbox.styleLayer("mapbox://styles/mapbox/light-v10").addTo(a.map),c=L.mapbox.styleLayer("mapbox://styles/mapbox/satellite-streets-v11"),d=L.mapbox.styleLayer("mapbox://styles/mapbox/outdoors-v11");L.control.scale({position:"bottomright"}).addTo(a.map);L.mapbox.geocoder("mapbox.places-v1"),new L.Control.Layers({Street:b.addTo(a.map),Satellite:c,Terrain:d},{},{position:"topleft"}).addTo(a.map);a.markerIcon={icon:new L.Icon({iconUrl:a.imageURL+"/marker-icon-2x-blue.png",shadowUrl:a.imageURL+"/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})},a.map.on("click",function(b){"entity"!==$("#apiType").val()&&a.createTempMarker(b)})},createTempMarker:function(b){function c(){a.map.hasLayer(a.tempMarker)&&a.map.removeLayer(a.tempMarker),h.val(""),i.val("")}function d(){h.val(e),i.val(f)}var e=b.latlng.lat.toFixed(10),f=b.latlng.lng.toFixed(10),g=$(".fields:visible"),h=g.find('input[name="lat"]'),i=g.find('input[name="lon"]'),j='<dl class="dl-coords dl-horizontal">';j+="<dt>Latitude:</dt>",j+="<dd>"+e+"</dd>",j+="<dt>Longitude:</dt>",j+="<dd>"+f+"</dd>",j+='</dl><button id="removeMarker" class="btn btn-default btn-xs">Remove</button>',c(),d(),a.tempMarker=new L.marker(b.latlng,{icon:new L.Icon({iconUrl:a.imageURL+"/marker-icon-2x-green.png",shadowUrl:a.imageURL+"/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})}).addTo(a.map).bindPopup(j).openPopup().on("click",d),$(".leaflet-popup-content").on("click","#removeMarker",c)},clearLayers:function(){a.map.hasLayer(a.contourJSON)&&a.map.removeLayer(a.contourJSON),a.map.hasLayer(a.stationMarker)&&a.map.removeLayer(a.stationMarker),a.map.hasLayer(a.tempMarker)&&a.map.removeLayer(a.tempMarker),a.map.hasLayer(a.featureLayer)&&a.featureLayer.clearLayers()},resetView:function(){a.map.setView([41.05,-95],4)}};b.exports=a}()},{}],13:[function(a,b,c){!function(){"use strict";var c=a("./profileMap.js"),d={bindEvents:function(){$("#form-params").on("click.profileAPI",'[data-api="profile"]',c.getData),$("#frm-profile").find("label").each(function(a,b){var c=$(b).attr("for");$(b).attr("for","profile-"+c)}).end().find("[id]").each(function(a,b){var c=$(b).attr("id");$(b).attr("id","profile-"+c)})},getParams:function(){$.ajax({url:"json/api-profile.json",async:!0,type:"GET",dataType:"json",success:function(a){var b=a.paths["/profile.{format}"].get.parameters;d.createTemplate(b)}})},createTemplate:function(a){var b,c,e={},f=$("#apiForm-template").html();b=Handlebars.compile(f),e.params=a,c=b(e),$("#frm-profile").append(c),d.bindEvents()}};b.exports=d}()},{"./profileMap.js":14}],14:[function(a,b,c){!function(){"use strict";var c=a("./apiMap.js"),d={getData:function(){var a="./profile.json?";a+=$(".fields-profile").find("input, select").serialize(),c.getTooltipMeta=d.getTooltipMeta,c.getData(a)},getTooltipMeta:function(a){var b='<dl class="dl-profile dl-horizontal">',c=a.features[0].properties;return b+="<dt>Average Elevation:</dt>",b+="<dd>"+c.average_elevation+" "+c.unit+"</dd>",b+="<dt>Latitude:</dt>",b+="<dd>"+c.lat+"</dd>",b+="<dt>Longitude:</dt>",b+="<dd>"+c.lon+"</dd>",b+="<dt>Azimuth:</dt>",b+="<dd>"+c.azimuth+"</dd>",b+="<dt>Data Source:</dt>",b+="<dd>"+c.elevation_data_source+"</dd>",b+="</dl>"}};b.exports=d}()},{"./apiMap.js":3}]},{},[1]);